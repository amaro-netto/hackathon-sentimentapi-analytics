# --- Identidade ---
spring.application.name=sentiment-api
server.port=8080

# --- Banco de Dados PostgreSQL (DOCKER) ---
# 'sentiment_db' é o nome do serviço que criaremos no docker-compose
spring.datasource.url=jdbc:postgresql://sentiment_db:5432/sentiment_db
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:admin}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:admin123}
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA / Hibernate ---
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# 'update' cria as tabelas automaticamente se não existirem
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# --- Conexão com a IA ---
# Aqui estava fixo 'sentiment_ai'. Agora ele aceita o que vier do Portainer.
# Se nada vier, ele tenta localhost (bom para testar sem Docker).
app.ds-url=${PYTHON_API_URL:http://localhost:5000}

# --- Configurações Extras (Timeouts e Swagger) ---
spring.cloud.openfeign.client.config.default.connectTimeout=5000
spring.cloud.openfeign.client.config.default.readTimeout=5000
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html